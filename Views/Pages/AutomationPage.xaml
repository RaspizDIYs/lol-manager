<UserControl x:Class="LolManager.Views.Pages.AutomationPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             xmlns:converters="clr-namespace:LolManager.Converters"
             x:Name="AutomationPageRoot">
    
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibility"/>
        <converters:InverseBoolToVisibilityConverter x:Key="InverseBoolToVisibility"/>
        <converters:RunePagePreviewConverter x:Key="RunePagePreviewConverter"/>
        <converters:CollectionCountToVisibilityConverter x:Key="CollectionCountToVisibility"/>
        <converters:RuneImageConverter x:Key="RuneImageConverter"/>
        <!-- ItemTemplate Ð´Ð»Ñ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð¾Ð² Ñ Ð¸ÐºÐ¾Ð½ÐºÐ°Ð¼Ð¸ -->
        <DataTemplate x:Key="ChampionTemplate">
            <StackPanel Orientation="Horizontal">
                <Border Width="28" 
                        Height="28" 
                        CornerRadius="14"
                        Margin="0,0,6,0"
                        VerticalAlignment="Center"
                        ClipToBounds="True">
                    <Image Source="{Binding Converter={StaticResource ChampionImageConverter}}"
                           RenderOptions.BitmapScalingMode="LowQuality"
                           RenderOptions.CachingHint="Cache" 
                           Stretch="UniformToFill"/>
                </Border>
                <TextBlock Text="{Binding}" 
                           VerticalAlignment="Center"
                           FontSize="12"/>
            </StackPanel>
        </DataTemplate>
        
        <!-- ItemTemplate Ð´Ð»Ñ Ð·Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ð¹ Ñ Ð¸ÐºÐ¾Ð½ÐºÐ°Ð¼Ð¸ -->
        <DataTemplate x:Key="SummonerSpellTemplate">
            <StackPanel Orientation="Horizontal">
                <Image Source="{Binding Converter={StaticResource SummonerSpellImageConverter}}"
                       RenderOptions.BitmapScalingMode="LowQuality"
                       RenderOptions.CachingHint="Cache" 
                       Width="22" 
                       Height="22" 
                       Margin="0,0,6,0"
                       VerticalAlignment="Center"/>
                <TextBlock Text="{Binding}" 
                           VerticalAlignment="Center"
                           FontSize="12"/>
            </StackPanel>
        </DataTemplate>
    </UserControl.Resources>
    
    <!-- Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ñ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸ÐµÐ¼ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ -->
    <Border ClipToBounds="True">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
            <StackPanel Grid.Row="0" Margin="20,20,20,0">
                <TextBlock Text="ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ" FontSize="24" FontWeight="Bold" Margin="0,0,0,6"/>
                <TextBlock Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð°, Ð±Ð°Ð½ Ð¸ Ð·Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¸Ð·Ñ‹Ð²Ð°Ñ‚ÐµÐ»Ñ"
                           FontSize="12"
                           Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                           TextWrapping="Wrap"
                           Margin="0,0,0,16"/>
            </StackPanel>
            
            <!-- Skeleton Loader - Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð²ÐµÑ€Ñ… Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð° -->
            <StackPanel Grid.Row="1"
                        Margin="20,0,20,20" 
                        HorizontalAlignment="Stretch" 
                        Panel.ZIndex="10"
                        Visibility="{Binding ElementName=AutomationPageRoot, Path=ViewModel.IsLoading, Converter={StaticResource BoolToVisibility}}">
            <ui:Card Margin="0,0,0,12" Padding="16">
                <StackPanel>
                    <Rectangle Height="28" RadiusX="4" RadiusY="4" Margin="0,0,0,8">
                        <Rectangle.Fill>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <LinearGradientBrush.GradientStops>
                                    <GradientStop Color="#20FFFFFF" Offset="0"/>
                                    <GradientStop Color="#40FFFFFF" Offset="0.5"/>
                                    <GradientStop Color="#20FFFFFF" Offset="1"/>
                                </LinearGradientBrush.GradientStops>
                            </LinearGradientBrush>
                        </Rectangle.Fill>
                    </Rectangle>
                    <Rectangle Height="40" RadiusX="4" RadiusY="4" Margin="0,12,0,0" Fill="#10FFFFFF"/>
                    <Rectangle Height="40" RadiusX="4" RadiusY="4" Margin="0,8,0,0" Fill="#10FFFFFF"/>
                </StackPanel>
            </ui:Card>
            <ui:Card Padding="16">
                <StackPanel>
                    <Rectangle Height="20" Width="120" HorizontalAlignment="Left" RadiusX="4" RadiusY="4" Fill="#10FFFFFF" Margin="0,0,0,8"/>
                    <Rectangle Height="40" RadiusX="4" RadiusY="4" Fill="#10FFFFFF"/>
                    <Rectangle Height="40" RadiusX="4" RadiusY="4" Margin="0,8,0,0" Fill="#10FFFFFF"/>
                </StackPanel>
            </ui:Card>
        </StackPanel>
        
        <!-- Main Content -->
        <ScrollViewer Grid.Row="1"
                      VerticalScrollBarVisibility="Auto"
                      Panel.ZIndex="1"
                      Visibility="{Binding ElementName=AutomationPageRoot, Path=ViewModel.IsLoading, Converter={StaticResource InverseBoolToVisibility}}"
                      DataContext="{Binding ElementName=AutomationPageRoot, Path=ViewModel}">
            <StackPanel Margin="20,0,20,20" HorizontalAlignment="Stretch">

                <!-- Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸ -->
                <ui:ToggleSwitch IsChecked="{Binding IsAutomationEnabled, Mode=TwoWay}" 
                                Content="Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸ÑŽ"
                                Margin="0,0,0,16"/>

                <!-- Ð—Ð°Ð´ÐµÑ€Ð¶ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ Ð¿Ð¸ÐºÐ¾Ð¼ -->
                <ui:Card Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <CheckBox Content="Ð—Ð°Ð´ÐµÑ€Ð¶ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ Ð¿Ð¸ÐºÐ¾Ð¼"
                                  IsChecked="{Binding IsPickDelayEnabled, Mode=TwoWay}"
                                  IsEnabled="{Binding IsAutomationEnabled}"
                                  Margin="0,0,0,8"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Slider Grid.Column="0"
                                    Minimum="0" Maximum="30" TickFrequency="1" IsSnapToTickEnabled="True"
                                    Value="{Binding PickDelaySeconds, Mode=TwoWay}"
                                    IsEnabled="{Binding IsAutomationEnabled}"
                                    Margin="0,0,12,0"/>
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <TextBlock Text="{Binding PickDelaySeconds}" VerticalAlignment="Center"/>
                                <TextBlock Text=" ÑÐµÐº" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </ui:Card>

                <!-- Ð§ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ñ‹ -->
                <ui:Card Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Ð§ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ñ‹" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>
                        
                        <!-- ÐŸÐ¾Ð¸ÑÐº Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð° -->
                        <ui:TextBox Text="{Binding ChampionSearchText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsAutomationEnabled}"
                                    PlaceholderText="ðŸ” ÐŸÐ¾Ð¸ÑÐº Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð°..."
                                    Margin="0,0,0,12"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- ÐÐ²Ñ‚Ð¾Ð²Ñ‹Ð±Ð¾Ñ€ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð° -->
                            <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,8,0">
                                <TextBlock Text="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ" 
                                           FontSize="14" 
                                           FontWeight="SemiBold" 
                                           Margin="0,0,0,6"/>
                                <ComboBox ItemsSource="{Binding FilteredChampionsForPick}" 
                                          SelectedItem="{Binding SelectedChampionToPick1, Mode=TwoWay}"
                                          IsEnabled="{Binding IsAutomationEnabled}"
                                          MaxDropDownHeight="350"
                                          ItemTemplate="{StaticResource ChampionTemplate}"
                                          Margin="0,0,0,4">
                                    <ComboBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel/>
                                        </ItemsPanelTemplate>
                                    </ComboBox.ItemsPanel>
                                </ComboBox>
                                
                                <TextBlock Text="Ð ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ Ð¿Ñ€Ð¸ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐµ:"
                                           FontSize="11"
                                           Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                           TextWrapping="Wrap"
                                           Margin="0,4,0,4"/>
                                
                                <!-- Ð ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ -->
                                <ComboBox ItemsSource="{Binding FilteredChampionsForPick}" 
                                          SelectedItem="{Binding SelectedChampionToPick2, Mode=TwoWay}"
                                          IsEnabled="{Binding IsAutomationEnabled}"
                                          MaxDropDownHeight="350"
                                          ItemTemplate="{StaticResource ChampionTemplate}"
                                          Margin="0,0,0,4"
                                          FontSize="11">
                                    <ComboBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel/>
                                        </ItemsPanelTemplate>
                                    </ComboBox.ItemsPanel>
                                </ComboBox>
                                <ComboBox ItemsSource="{Binding FilteredChampionsForPick}" 
                                          SelectedItem="{Binding SelectedChampionToPick3, Mode=TwoWay}"
                                          IsEnabled="{Binding IsAutomationEnabled}"
                                          MaxDropDownHeight="350"
                                          ItemTemplate="{StaticResource ChampionTemplate}"
                                          FontSize="11">
                                    <ComboBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel/>
                                        </ItemsPanelTemplate>
                                    </ComboBox.ItemsPanel>
                                </ComboBox>
                            </StackPanel>
                       
                            <!-- ÐÐ²Ñ‚Ð¾Ð±Ð°Ð½ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð° -->
                            <StackPanel Grid.Row="0" Grid.Column="1">
                                <TextBlock Text="Ð—Ð°Ð±Ð°Ð½Ð¸Ñ‚ÑŒ" 
                                           FontSize="14" 
                                           FontWeight="SemiBold" 
                                           Margin="0,0,0,6"/>
                                <ComboBox ItemsSource="{Binding FilteredChampionsForBan}" 
                                          SelectedItem="{Binding SelectedChampionToBan, Mode=TwoWay}"
                                          IsEnabled="{Binding IsAutomationEnabled}"
                                          MaxDropDownHeight="350"
                                          ItemTemplate="{StaticResource ChampionTemplate}">
                                    <ComboBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel/>
                                        </ItemsPanelTemplate>
                                    </ComboBox.ItemsPanel>
                                </ComboBox>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </ui:Card>

                <!-- Ð—Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¸Ð·Ñ‹Ð²Ð°Ñ‚ÐµÐ»Ñ -->
                <ui:Card Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Ð—Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¸Ð·Ñ‹Ð²Ð°Ñ‚ÐµÐ»Ñ" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Ð—Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ðµ 1" 
                                           FontSize="13" 
                                           FontWeight="SemiBold" 
                                           Margin="0,0,0,6"/>
                                <ComboBox ItemsSource="{Binding SummonerSpells}" 
                                          SelectedItem="{Binding SelectedSummonerSpell1, Mode=TwoWay}"
                                          ItemTemplate="{StaticResource SummonerSpellTemplate}"
                                          IsEnabled="{Binding IsAutomationEnabled}">
                                    <ComboBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel/>
                                        </ItemsPanelTemplate>
                                    </ComboBox.ItemsPanel>
                                </ComboBox>
                            </StackPanel>
                            
                            <ui:Button Grid.Column="1"
                                      Content="â‡„"
                                      FontSize="16"
                                      Height="36"
                                      VerticalAlignment="Bottom"
                                      Margin="6,0,6,0"
                                      Padding="8,0"
                                      Command="{Binding SwapSummonerSpellsCommand}"
                                      IsEnabled="{Binding IsAutomationEnabled}"
                                      ToolTip="ÐŸÐ¾Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¼ÐµÑÑ‚Ð°Ð¼Ð¸"/>
                            
                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Ð—Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ðµ 2" 
                                           FontWeight="SemiBold" 
                                           FontSize="13" 
                                           Margin="0,0,0,6"/>
                                <ComboBox ItemsSource="{Binding SummonerSpells}" 
                                          SelectedItem="{Binding SelectedSummonerSpell2, Mode=TwoWay}"
                                          ItemTemplate="{StaticResource SummonerSpellTemplate}"
                                          IsEnabled="{Binding IsAutomationEnabled}">
                                    <ComboBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel/>
                                        </ItemsPanelTemplate>
                                    </ComboBox.ItemsPanel>
                                </ComboBox>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </ui:Card>

                <!-- Ð ÑƒÐ½Ñ‹ -->
                <ui:Card Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ñ€ÑƒÐ½" 
                                   FontSize="16" 
                                   FontWeight="SemiBold" 
                                   Margin="0,0,0,8"/>
                        
                        <!-- Ð¡ÐºÑ€Ñ‹Ñ‚Ð¾ Ð´Ð¾ Ñ€ÐµÐ»Ð¸Ð·Ð° Ñ„Ð¸Ñ‡Ð¸ Ð°Ð²Ñ‚Ð¾Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ñ€ÑƒÐ½ -->
                        <ui:ToggleSwitch IsEnabled="False" IsChecked="False"
                                         Content="ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ Ñ€ÑƒÐ½ (ÑÐºÐ¾Ñ€Ð¾)"
                                         Margin="0,0,0,8"
                                         Visibility="Collapsed"/>

                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <ComboBox Grid.Column="0"
                                      ItemsSource="{Binding RunePageNames}"
                                      SelectedItem="{Binding SelectedRunePageName, Mode=TwoWay}"
                                      IsEnabled="{Binding IsAutomationEnabled}"
                                      Margin="0,0,8,0"/>

                            <ui:Button Grid.Column="1"
                                      Content="ðŸŽ¯ ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"
                                      Command="{Binding ApplySelectedRunePageCommand}"
                                      IsEnabled="{Binding IsAutomationEnabled}"
                                      Margin="0,0,8,0"
                                      ToolTip="ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½ÑƒÑŽ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ Ñ€ÑƒÐ½ Ð² ÐºÐ»Ð¸ÐµÐ½Ñ‚Ðµ LoL"/>

                            <ui:Button Grid.Column="2"
                                      Content="+ Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ"
                                      Command="{Binding AddRunePageCommand}"
                                      IsEnabled="{Binding IsAutomationEnabled}"/>
                        </Grid>

                        <ItemsControl ItemsSource="{Binding RunePages}"
                                      Visibility="{Binding RunePages, Converter={StaticResource CollectionCountToVisibility}}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <ui:Card Margin="0,0,0,8" Padding="12">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <!-- ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð¿Ñ€ÐµÐ²ÑŒÑŽ -->
                                            <StackPanel Grid.Column="0" Orientation="Vertical" VerticalAlignment="Center">
                                                <TextBlock Text="{Binding Name}"
                                                          FontSize="14"
                                                          FontWeight="SemiBold"
                                                          Margin="0,0,0,6"
                                                          TextTrimming="CharacterEllipsis"/>
                                                
                                                <!-- ÐŸÑ€ÐµÐ²ÑŒÑŽ Ñ€ÑƒÐ½ (Ð³Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ð¾) -->
                                                <ItemsControl>
                                                    <ItemsControl.ItemsSource>
                                                        <MultiBinding Converter="{StaticResource RunePagePreviewConverter}">
                                                            <Binding Path="."/>
                                                        </MultiBinding>
                                                    </ItemsControl.ItemsSource>
                                                    <ItemsControl.ItemsPanel>
                                                        <ItemsPanelTemplate>
                                                            <StackPanel Orientation="Horizontal"/>
                                                        </ItemsPanelTemplate>
                                                    </ItemsControl.ItemsPanel>
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border Width="22"
                                                                    Height="22"
                                                                    Margin="0,0,4,0"
                                                                    CornerRadius="11"
                                                                    Background="#0A0E12"
                                                                    BorderBrush="#2A2F36"
                                                                    BorderThickness="1.5">
                                                                <Image Source="{Binding Converter={StaticResource RuneImageConverter}}"
                                                                       Width="18"
                                                                       Height="18"
                                                                       RenderOptions.BitmapScalingMode="LowQuality"
                                                                       RenderOptions.CachingHint="Cache"
                                                                       Stretch="UniformToFill"/>
                                                            </Border>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                            
                                            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ -->
                                            <ui:Button Grid.Column="1"
                                                       Content="âœï¸ "
                                                       Width="40"
                                                       Height="36"
                                                       Padding="8,6"
                                                       Margin="8,0,4,0"
                                                       Command="{Binding ElementName=AutomationPageRoot, Path=ViewModel.EditRunePageCommand}"
                                                       CommandParameter="{Binding}"
                                                       ToolTip="Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"/>
                                            <ui:Button Grid.Column="2"
                                                       Content="ðŸ—‘ï¸ "
                                                       Width="40"
                                                       Height="36"
                                                       Padding="8,6"
                                                       Command="{Binding ElementName=AutomationPageRoot, Path=ViewModel.DeleteRunePageCommand}"
                                                       CommandParameter="{Binding}"
                                                       ToolTip="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"/>
                                        </Grid>
                                    </ui:Card>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </ui:Card>

                <!-- Ð‘Ð¸Ð½Ð´Ð¸Ð½Ð³Ð¸ -->
                <ui:Card Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Ð‘Ð¸Ð½Ð´Ð¸Ð½Ð³Ð¸" 
                                   FontSize="16" 
                                   FontWeight="SemiBold" 
                                   Margin="0,0,0,8"/>
                        
                        <TextBlock Text="ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð±Ð¸Ð½Ð´Ð¸Ð½Ð³Ð¸ Ð´Ð»Ñ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð°"
                                   FontSize="12"
                                   Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                                   Margin="0,0,0,12"
                                   TextWrapping="Wrap"/>

                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <ComboBox Grid.Column="0"
                                      ItemsSource="{Binding Champions}"
                                      SelectedItem="{Binding SelectedChampionForBinding, Mode=TwoWay}"
                                      IsEnabled="{Binding IsAutomationEnabled}"
                                      Margin="0,0,8,0"
                                      ItemTemplate="{StaticResource ChampionTemplate}"
                                      MaxDropDownHeight="350">
                                <ComboBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <VirtualizingStackPanel/>
                                    </ItemsPanelTemplate>
                                </ComboBox.ItemsPanel>
                            </ComboBox>

                            <ui:Button Grid.Column="1"
                                      Content="âž• Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ"
                                      Command="{Binding CreateChampionBindingCommand}"
                                      IsEnabled="{Binding IsAutomationEnabled}"
                                      ToolTip="Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð±Ð¸Ð½Ð´Ð¸Ð½Ð³Ð¸ Ð´Ð»Ñ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð°"/>
                        </Grid>

                        <ItemsControl ItemsSource="{Binding ChampionBindings}"
                                      Visibility="{Binding ChampionBindings, Converter={StaticResource CollectionCountToVisibility}}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <ui:Card Margin="0,0,0,8" Padding="12">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0" Orientation="Vertical" VerticalAlignment="Center">
                                                <TextBlock Text="{Binding ChampionName}"
                                                          FontSize="14"
                                                          FontWeight="SemiBold"
                                                          Margin="0,0,0,4"/>
                                                <TextBlock Text="{Binding GroupName}"
                                                          FontSize="12"
                                                          Foreground="{DynamicResource TextFillColorTertiaryBrush}"/>
                                            </StackPanel>
                                            
                                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                <ui:Button Content="âœï¸ "
                                                          Width="40"
                                                          Height="36"
                                                          Padding="8,6"
                                                          Margin="0,0,4,0"
                                                          Command="{Binding ElementName=AutomationPageRoot, Path=ViewModel.EditChampionBindingCommand}"
                                                          CommandParameter="{Binding ChampionId}"
                                                          ToolTip="Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"/>
                                                <ui:Button Content="ðŸ—‘ï¸ "
                                                          Width="40"
                                                          Height="36"
                                                          Padding="8,6"
                                                          Command="{Binding ElementName=AutomationPageRoot, Path=ViewModel.DeleteChampionBindingCommand}"
                                                          CommandParameter="{Binding ChampionId}"
                                                          ToolTip="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"/>
                                            </StackPanel>
                                        </Grid>
                                    </ui:Card>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </ui:Card>
            
                <TextBlock Text="ðŸ’¾ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸"
                           FontSize="11"
                           Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                           HorizontalAlignment="Left"
                           Margin="0,0,0,16"/>
            </StackPanel>
        </ScrollViewer>
    </Grid>
    </Border>
</UserControl>
