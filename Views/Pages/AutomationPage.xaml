<UserControl x:Class="LolManager.Views.Pages.AutomationPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             x:Name="AutomationPageRoot">
    
    <UserControl.Resources>
        <!-- ItemTemplate Ð´Ð»Ñ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð¾Ð² Ñ Ð¸ÐºÐ¾Ð½ÐºÐ°Ð¼Ð¸ -->
        <DataTemplate x:Key="ChampionTemplate">
            <StackPanel Orientation="Horizontal">
                <Border Width="32" 
                        Height="32" 
                        CornerRadius="16"
                        Margin="0,0,8,0"
                        VerticalAlignment="Center"
                        ClipToBounds="True">
                    <Image Source="{Binding Converter={StaticResource ChampionImageConverter}}" 
                           Stretch="UniformToFill"/>
                </Border>
                <TextBlock Text="{Binding}" 
                           VerticalAlignment="Center"/>
            </StackPanel>
        </DataTemplate>
        
        <!-- ItemTemplate Ð´Ð»Ñ Ð·Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ð¹ Ñ Ð¸ÐºÐ¾Ð½ÐºÐ°Ð¼Ð¸ -->
        <DataTemplate x:Key="SummonerSpellTemplate">
            <StackPanel Orientation="Horizontal">
                <Image Source="{Binding Converter={StaticResource SummonerSpellImageConverter}}" 
                       Width="24" 
                       Height="24" 
                       Margin="0,0,8,0"
                       VerticalAlignment="Center"/>
                <TextBlock Text="{Binding}" 
                           VerticalAlignment="Center"/>
            </StackPanel>
        </DataTemplate>
    </UserControl.Resources>
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="16" HorizontalAlignment="Left" MaxWidth="600" 
                    DataContext="{Binding ElementName=AutomationPageRoot, Path=ViewModel}">
            
            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
            <TextBlock Text="ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ" 
                       FontSize="28" 
                       FontWeight="Bold" 
                       Margin="0,0,0,8"/>
            <TextBlock Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð°, Ð±Ð°Ð½, Ð·Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¸Ð·Ñ‹Ð²Ð°Ñ‚ÐµÐ»Ñ"
                       FontSize="14"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                       TextWrapping="Wrap"
                       Margin="0,0,0,24"/>

            <!-- Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸ -->
            <ui:ToggleSwitch IsChecked="{Binding IsAutomationEnabled, Mode=TwoWay}" 
                            Content="Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ"
                            Margin="0,0,0,24"/>

           <Grid>
               <Grid.ColumnDefinitions>
                   <ColumnDefinition/>
                   <ColumnDefinition/>
               </Grid.ColumnDefinitions>
               <Grid.RowDefinitions>
                   <RowDefinition/>
                   <RowDefinition/>
               </Grid.RowDefinitions>
               
               <!-- ÐŸÐ¾Ð¸ÑÐº Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð° -->
               <ui:TextBox Text="{Binding ChampionSearchText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                           IsEnabled="{Binding IsAutomationEnabled}"
                           PlaceholderText="ðŸ” ÐŸÐ¾Ð¸ÑÐº Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð°..."
                           Margin="0,0,0,8"
                           Grid.ColumnSpan="2"
                           Grid.Row="0"
                           Width="180"
                           HorizontalAlignment="Center"/>
               
               <!-- ÐÐ²Ñ‚Ð¾Ð²Ñ‹Ð±Ð¾Ñ€ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð° -->
               <StackPanel                         
                   Grid.Row="1"
                   Grid.Column="0"
                   Margin="0,0,10,0">
                   <TextBlock Text="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ" 
                              FontSize="16" 
                              FontWeight="SemiBold" 
                              Margin="0,0,0,8"/>
                  <ComboBox ItemsSource="{Binding FilteredChampionsForPick}" 
                            SelectedItem="{Binding SelectedChampionToPick, Mode=TwoWay}"
                            IsEnabled="{Binding IsAutomationEnabled}"
                            MaxDropDownHeight="400"
                            ItemTemplate="{StaticResource ChampionTemplate}"
                            Margin="0,0,0,24">
                      <ComboBox.ItemsPanel>
                          <ItemsPanelTemplate>
                              <VirtualizingStackPanel/>
                          </ItemsPanelTemplate>
                      </ComboBox.ItemsPanel>
                  </ComboBox>
               </StackPanel>
               
               <!-- ÐÐ²Ñ‚Ð¾Ð±Ð°Ð½ Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½Ð° -->
               <StackPanel                  
                   Grid.Row="1"
                   Grid.Column="1">
                   <TextBlock Text="Ð—Ð°Ð±Ð°Ð½Ð¸Ñ‚ÑŒ" 
                              FontSize="16" 
                              FontWeight="SemiBold" 
                              Margin="0,0,0,8"/>
                  <ComboBox ItemsSource="{Binding FilteredChampionsForBan}" 
                            SelectedItem="{Binding SelectedChampionToBan, Mode=TwoWay}"
                            IsEnabled="{Binding IsAutomationEnabled}"
                            MaxDropDownHeight="400"
                            ItemTemplate="{StaticResource ChampionTemplate}"
                            Margin="0,0,0,24"
                            Grid.Row="1"
                            Grid.Column="1">
                      <ComboBox.ItemsPanel>
                          <ItemsPanelTemplate>
                              <VirtualizingStackPanel/>
                          </ItemsPanelTemplate>
                      </ComboBox.ItemsPanel>
                  </ComboBox>
               </StackPanel>
           </Grid>

            <!-- Ð—Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¸Ð·Ñ‹Ð²Ð°Ñ‚ÐµÐ»Ñ -->
            
            <Grid Margin="0,0,0,24">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="Ð—Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ðµ 1" 
                               FontSize="14" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,8"/>
                    <ComboBox ItemsSource="{Binding SummonerSpells}" 
                              SelectedItem="{Binding SelectedSummonerSpell1, Mode=TwoWay}"
                              ItemTemplate="{StaticResource SummonerSpellTemplate}"
                              IsEnabled="{Binding IsAutomationEnabled}">
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel/>
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                </StackPanel>
                
                <ui:Button Grid.Column="1"
                          Content="â‡„"
                          FontSize="16"
                          Width="40"
                          VerticalAlignment="Bottom"
                          Margin="6,0,6,0"
                          Command="{Binding SwapSummonerSpellsCommand}"
                          IsEnabled="{Binding IsAutomationEnabled}"
                          ToolTip="ÐŸÐ¾Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð¼ÐµÑÑ‚Ð°Ð¼Ð¸"/>
                
                <StackPanel Grid.Column="2">
                    <TextBlock Text="Ð—Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ðµ 2" 
                               FontWeight="SemiBold" 
                               FontSize="14" 
                               Margin="0,0,0,8"/>
                    <ComboBox ItemsSource="{Binding SummonerSpells}" 
                              SelectedItem="{Binding SelectedSummonerSpell2, Mode=TwoWay}"
                              ItemTemplate="{StaticResource SummonerSpellTemplate}"
                              IsEnabled="{Binding IsAutomationEnabled}">
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel/>
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                </StackPanel>
            </Grid>
            
            <TextBlock Text="ðŸ’¾ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸"
                       FontSize="12"
                       Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                       HorizontalAlignment="Left"/>
        </StackPanel>
    </ScrollViewer>
</UserControl>
